<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image to AVIF Converter - Mass Tools</title>
  <meta name="description" content="Convert images to AVIF format for free with Mass Tools' Image to AVIF Converter. Optimize images for web with superior compression and quality.">
  <meta name="keywords" content="image to avif converter, mass tools, free online tools, image conversion, avif format">
  <meta name="robots" content="index, follow">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-68CX9G7BKF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-68CX9G7BKF');
  </script>
  <style>
    :root {
      --primary-color: #FF4500;
      --secondary-color: #FFA500;
      --dark-color: #1A1A1A;
      --light-color: #F8F9FA;
      --text-color: #2C2C2C;
      --text-light: #6C757D;
      --border-radius: 12px;
      --transition: all 0.3s ease;
      --gradient: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }

    body {
      background: var(--light-color);
      color: var(--text-color);
      font-size: 16px;
      line-height: 1.7;
      scrollbar-width: none;
    }

    body::-webkit-scrollbar {
      display: none;
    }

    .progress-bar, [class*="progress"], [id*="progress"] {
      display: none !important;
    }

    .container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 24px;
    }

    header {
      background: var(--light-color);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      font-size: 24px;
      font-weight: 800;
      margin-left: 8px;
    }

    .logo-icon {
      font-size: 24px;
      color: var(--primary-color);
    }

    .logo span {
      background: var(--gradient);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    nav {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    nav ul {
      display: flex;
      list-style: none;
      gap: 16px;
    }

    nav ul li a {
      text-decoration: none;
      color: var(--text-color);
      font-weight: 500;
      font-size: 14px;
      padding: 8px 12px;
      border-radius: var(--border-radius);
      transition: var(--transition);
    }

    nav ul li a:hover {
      background: var(--primary-color);
      color: var(--light-color);
      text-decoration: none;
    }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 24px;
      color: var(--text-color);
      cursor: pointer;
      margin-right: 8px;
    }

    #mobile-menu-toggle {
      display: none;
    }

    .search-bar {
      display: flex;
      align-items: center;
      background: #fff;
      border: 1px solid #e0e0e0;
      border-radius: 50px;
      padding: 6px 12px;
      transition: var(--transition);
      max-width: 200px;
    }

    .search-bar:hover, .search-bar:focus-within {
      border-color: var(--primary-color);
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
    }

    .search-bar input {
      border: none;
      outline: none;
      font-size: 13px;
      padding: 6px;
      width: 100%;
    }

    .search-bar button {
      background: none;
      border: none;
      color: var(--text-light);
      font-size: 14px;
      cursor: pointer;
      transition: var(--transition);
    }

    .search-bar button:hover {
      color: var(--primary-color);
    }

    .tool-section {
      padding: 80px 0;
      background: var(--light-color);
    }

    .tool-content {
      max-width: 800px;
      margin: 0 auto;
      background: #fff;
      padding: 32px;
      border-radius: var(--border-radius);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

    .tool-content h1 {
      font-size: 36px;
      color: var(--dark-color);
      margin-bottom: 20px;
      text-align: center;
    }

    .tool-content p {
      font-size: 15px;
      color: var(--text-color);
      margin-bottom: 12px;
    }

    .tool-content .upload-area {
      border: 2px dashed var(--text-light);
      border-radius: var(--border-radius);
      padding: 20px;
      text-align: center;
      margin-bottom: 20px;
      transition: var(--transition);
    }

    .tool-content .upload-area:hover {
      border-color: var(--primary-color);
      background: rgba(255, 69, 0, 0.05);
    }

    .tool-content .upload-area.dragover {
      border-color: var(--primary-color);
      background: rgba(255, 69, 0, 0.1);
    }

    .tool-content .upload-area i {
      font-size: 32px;
      color: var(--primary-color);
      margin-bottom: 10px;
    }

    .tool-content .upload-area p {
      font-size: 14px;
      color: var(--text-light);
    }

    .tool-content .upload-area input[type="file"] {
      display: none;
    }

    .tool-content .options-control {
      margin-bottom: 20px;
      text-align: center;
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
    }

    .tool-content .options-control label {
      font-size: 14px;
      font-weight: 500;
      margin-right: 10px;
      align-self: center;
    }

    .tool-content .options-control select {
      padding: 8px 16px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      font-size: 14px;
      min-width: 200px;
    }

    .tool-content .preview-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 20px;
    }

    .tool-content .preview-box {
      flex: 1;
      min-width: 300px;
      text-align: center;
    }

    .tool-content .preview-box img {
      max-width: 100%;
      height: auto;
      border-radius: var(--border-radius);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      display: none;
    }

    .tool-content .preview-box img.visible {
      display: block;
    }

    .tool-content .preview-box p {
      font-size: 14px;
      font-weight: 500;
      margin-top: 10px;
    }

    .tool-content .action-buttons {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 24px;
    }

    .tool-content .action-buttons button,
    .tool-content .cta-button {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--gradient);
      color: #FFFFFF !important;
      padding: 10px 24px;
      border: none;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      transition: var(--transition);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      cursor: pointer;
    }

    .tool-content .action-buttons button:hover,
    .tool-content .cta-button:hover {
      background: var(--primary-color);
      color: #FFFFFF !important;
      transform: translateY(-4px);
      text-decoration: none;
    }

    .tool-content .action-buttons button:disabled {
      background: var(--text-light);
      color: var(--light-color) !important;
      cursor: not-allowed;
      transform: none;
    }

    .tool-content .loading {
      display: none;
      font-size: 14px;
      color: var(--primary-color);
      margin-top: 10px;
      text-align: center;
    }

    .tool-content .loading.visible {
      display: block;
    }

    .tool-content .tool-article {
      margin-top: 40px;
    }

    .tool-content .tool-article h2 {
      font-size: 24px;
      color: var(--dark-color);
      margin: 24px 0 12px;
    }

    .tool-content .tool-article h3 {
      font-size: 20px;
      color: var(--dark-color);
      margin: 20px 0 10px;
    }

    .tool-content .tool-article p {
      font-size: 15px;
      color: var(--text-color);
      margin-bottom: 12px;
    }

    .tool-content .tool-article ul {
      list-style: none;
      margin: 12px 0;
      padding-left: 20px;
    }

    .tool-content .tool-article ul li {
      font-size: 15px;
      color: var(--text-color);
      margin-bottom: 8px;
      position: relative;
    }

    .tool-content .tool-article ul li::before {
      content: 'âœ”';
      color: var(--primary-color);
      position: absolute;
      left: -20px;
    }

    .tool-content .tool-article a {
      color: var(--primary-color);
      text-decoration: none;
      transition: var(--transition);
    }

    .tool-content .tool-article a:hover {
      text-decoration: underline;
    }

    footer {
      background: var(--dark-color);
      color: var(--light-color);
      padding: 40px 0 20px;
    }

    .footer-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 24px;
      margin-bottom: 24px;
    }

    .footer-column-logo {
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      font-size: 24px;
      font-weight: 800;
    }

    .footer-column-logo-icon {
      font-size: 24px;
      color: var(--primary-color);
    }

    .footer-column-logo span {
      background: var(--gradient);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .footer-column ul {
      list-style: none;
    }

    .footer-column ul li {
      margin-bottom: 10px;
    }

    .footer-column ul li a {
      color: #CED4DA;
      text-decoration: none;
      transition: var(--transition);
    }

    .footer-column ul li a:hover {
      color: var(--primary-color);
      text-decoration: none;
    }

    .copyright {
      text-align: center;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      font-size: 13px;
    }

    .scroll-to-top {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: var(--gradient);
      color: var(--light-color);
      width: 48px;
      height: 48px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s;
      z-index: 1000;
      cursor: pointer;
    }

    .scroll-to-top i {
      -webkit-text-stroke: 0;
      color: var(--light-color);
    }

    .scroll-to-top:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
    }

    .scroll-to-top.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    @media (max-width: 992px) {
      .search-bar {
        max-width: 180px;
      }
    }

    @media (max-width: 768px) {
      .container {
        padding: 0 16px !important;
      }
      .header-container {
        padding: 12px 16px;
      }
      .mobile-menu-btn {
        display: block;
      }
      nav {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: rgba(255, 255, 255, 0.98);
        padding: 20px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        flex-direction: column;
        align-items: flex-start;
        border-radius: 0 0 12px 12px;
        border: 1px solid #e0e0e0;
        width: 100%;
        box-sizing: border-box;
      }
      nav.show {
        display: flex !important;
      }
      nav ul {
        flex-direction: column;
        gap: 18px;
        width: 100%;
      }
      nav ul li a {
        font-size: 18px;
        padding: 12px 20px;
        width: 100%;
        text-align: left;
        border-radius: 8px;
      }
      .search-bar {
        margin-top: 20px;
        width: 100%;
        max-width: none;
        padding: 10px 20px;
        border-radius: 50px;
      }
      .search-bar input {
        font-size: 15px;
        padding: 8px;
      }
      .search-bar button {
        font-size: 16px;
      }
      .tool-section {
        padding: 60px 0;
      }
      .tool-content h1 {
        font-size: 30px;
      }
    }

    @media (max-width: 576px) {
      .container {
        padding: 0 16px !important;
      }
      .header-container {
        padding: 10px 16px !important;
        margin: 0;
      }
      .logo {
        font-size: 20px;
        margin-left: 0;
      }
      .logo-icon {
        font-size: 20px;
      }
      .mobile-menu-btn {
        margin-right: 0;
      }
      .search-bar {
        padding: 8px 16px;
        margin: 16px 0;
        max-width: 100%;
        margin-left: auto;
        margin-right: auto;
      }
      .search-bar input {
        font-size: 14px;
      }
      .tool-content {
        padding: 24px;
      }
      .tool-content h1 {
        font-size: 26px;
      }
      .tool-content p, .tool-content .tool-article p, .tool-content .tool-article ul li {
        font-size: 14px;
      }
      .tool-content .tool-article h2 {
        font-size: 20px;
      }
      .tool-content .tool-article h3 {
        font-size: 18px;
      }
      .tool-content .upload-area {
        padding: 16px;
      }
      .tool-content .options-control {
        flex-direction: column;
        align-items: center;
      }
      .tool-content .options-control select {
        width: 100%;
        padding: 10px 16px;
        font-size: 15px;
      }
      .tool-content .preview-box {
        min-width: 100%;
      }
      .tool-content .action-buttons {
        flex-direction: column;
        gap: 40px;
        margin-bottom: 24px;
      }
      .scroll-to-top {
        width: 40px;
        height: 40px;
        font-size: 20px;
        bottom: 16px;
        right:16px;
      }
      .footer-column-logo {
        font-size: 20px;
      }
      .footer-column-logo-icon {
        font-size: 20px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container header-container">
      <a href="/" class="logo">
        <i class="fas fa-tools logo-icon"></i>
        <span>Mass Tools</span>
      </a>
      <input id="mobile-menu-toggle" type="checkbox">
      <label class="mobile-menu-btn" for="mobile-menu-toggle">
        <i class="fas fa-bars"></i>
      </label>
      <nav id="nav-menu">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/#tools">Tools</a></li>
          <li><a href="/about-us.html">About Us</a></li>
          <li><a href="/contact-us.html">Contact Us</a></li>
          <li><a href="/privacy-policy.html">Privacy Policy</a></li>
          <li><a href="/terms-and-conditions.html">Terms</a></li>
          <li><a href="/Disclaimer.html">Disclaimer</a></li>
        </ul>
        <div class="search-bar">
          <input type="text" placeholder="Search tools..." aria-label="Search">
          <button type="submit" aria-label="Search">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="tool-section">
      <div class="container">
        <div class="tool-content">
          <h1>Image to AVIF Converter</h1>
          <p>Convert images (JPG, PNG, GIF, etc.) to AVIF format with Mass Tools' free Image to AVIF Converter. Optimize images for web with superior compression, transparency, and HDR support.</p>
          
          <div class="upload-area" id="uploadArea">
            <i class="fas fa-cloud-upload-alt"></i>
            <p>Drag and drop your image here or click to upload</p>
            <input type="file" id="imageInput" accept="image/*" aria-label="Upload image">
          </div>

          <div class="options-control">
            <div>
              <label for="quality">Quality:</label>
              <select id="quality" aria-label="Select AVIF quality">
                <option value="80" selected>High (80)</option>
                <option value="60">Medium (60)</option>
                <option value="40">Low (40)</option>
              </select>
            </div>
          </div>

          <div class="preview-container">
            <div class="preview-box">
              <p>Original Image</p>
              <img id="originalPreview" alt="Original image preview">
            </div>
            <div class="preview-box">
              <p>Converted AVIF</p>
              <img id="convertedPreview" alt="Converted AVIF preview">
            </div>
          </div>

          <div class="action-buttons">
            <button id="convertBtn" disabled>Convert to AVIF</button>
            <button id="downloadBtn" disabled>Download AVIF</button>
            <button id="resetBtn">Reset</button>
          </div>
          <p class="loading" id="loadingIndicator">Converting...</p>

          <a class="cta-button" href="/index.html#tools">Explore Our Tools</a>

          <div class="tool-article">
            <h2>About the Image to AVIF Converter</h2>
            <p>The Image to AVIF Converter by <a href="/about-us.html">Mass Tools</a> is a free tool that converts images (JPG, PNG, GIF, etc.) into AVIF (AV1 Image File Format). AVIF offers superior compression, transparency, and HDR support, making it ideal for web optimization. This tool processes conversions in your browser, ensuring privacy and speed without server uploads.</p>
            
            <h3>Why Convert Images to AVIF?</h3>
            <p>AVIF, developed by the Alliance for Open Media, is a next-generation format that reduces file sizes significantly compared to JPEG or WebP while maintaining high quality. Key benefits include:</p>
            <ul>
              <li><strong>Superior Compression</strong>: Up to 50% smaller files than JPEG, improving web load times.</li>
              <li><strong>High Quality</strong>: Supports HDR, wide color gamut, and 8/10/12-bit color depths.</li>
              <li><strong>Transparency</strong>: Ideal for logos and overlays, unlike JPEG.</li>
              <li><strong>Web Optimization</strong>: Boosts Core Web Vitals like Largest Contentful Paint (LCP).</li>
            </ul>

            <h3>How to Use the Image to AVIF Converter</h3>
            <p>Our Image to AVIF Converter is simple and supports customization. Follow these steps:</p>
            <ul>
              <li><strong>Upload Your Image</strong>: Click the upload area or drag and drop your image (JPG, PNG, GIF, etc.).</li>
              <li><strong>Select Quality</strong>: Choose High (80), Medium (60), or Low (40) to balance size and quality.</li>
              <li><strong>Convert</strong>: Click "Convert to AVIF" to process the image. Previews show the original and converted AVIF.</li>
              <li><strong>Download</strong>: Click "Download AVIF" to save the file, named with "masstools.github.io" (e.g., converted-logo-masstools.github.io.avif).</li>
              <li><strong>Reset</strong>: Click "Reset" to clear uploads and start over.</li>
            </ul>
            <p>The tool supports drag-and-drop, works offline after loading, and is compatible with modern browsers (Chrome 85+, Firefox 93+, Edge 93+). Note: AVIF may not display in older browsers or image viewers.</p>

            <h3>Use Cases for AVIF Conversion</h3>
            <p>The Image to AVIF Converter is perfect for various scenarios, including:</p>
            <ul>
              <li><strong>Web Development</strong>: Optimize images for faster websites and better SEO.</li>
              <li><strong>Photography</strong>: Share high-quality images with smaller file sizes.</li>
              <li><strong>Digital Art</strong>: Preserve details with lossless compression.</li>
              <li><strong>Social Media</strong>: Upload vibrant images with reduced bandwidth.</li>
            </ul>

            <h3>Tips for Optimizing AVIF Files</h3>
            <p>To get the best results from AVIF conversion, consider these tips:</p>
            <ul>
              <li><strong>Choose Quality Wisely</strong>: Use High (80) for visuals, Low (40) for thumbnails.</li>
              <li><strong>Resize Images</strong>: Use our <a href="/tools/image-resizer.html">Image Resizer</a> to match display dimensions.</li>
              <li><strong>Test Compatibility</strong>: Ensure AVIF support in target browsers (e.g., Chrome, Firefox).</li>
              <li><strong>Fallback Formats</strong>: Pair with <a href="/tools/image-to-webp.html">WebP</a> or <a href="/tools/image-to-jpg.html">JPG</a> for older browsers.</li>
              <li><strong>Batch Processing</strong>: Need bulk conversion? Contact us at <a href="mailto:byrolaa@gmail.com">byrolaa@gmail.com</a>.</li>
            </ul>

            <h3>Why Choose Mass Tools?</h3>
            <p>At Mass Tools, we provide free, high-quality tools to simplify your tasks. Our Image to AVIF Converter joins our suite, including the <a href="/tools/image-to-png.html">Image to PNG Converter</a>, <a href="/tools/image-to-jpg.html">Image to JPG Converter</a>, <a href="/tools/image-to-webp.html">Image to WebP Converter</a>, <a href="/tools/image-to-svg.html">Image to SVG Converter</a>, <a href="/tools/image-to-tiff.html">Image to TIFF Converter</a>, <a href="/tools/image-to-heic.html">Image to HEIC Converter</a>, <a href="/tools/image-to-pdf.html">Image to PDF Converter</a>, <a href="/tools/image-to-bmp.html">Image to BMP Converter</a>, and <a href="/tools/image-to-ico.html">Image to ICO Converter</a>. We prioritize privacy, speed, and ease of use. Learn more on our <a href="/about-us.html">About Us</a> page.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="footer-container">
        <div class="footer-column">
          <a href="/" class="footer-column-logo">
            <i class="fas fa-tools footer-column-logo-icon"></i>
            <span>Mass Tools</span>
          </a>
          <p>Empowering you with free, high-quality online tools.</p>
        </div>
        <div class="footer-column">
          <ul>
            <li><a href="/#tools">Tools</a></li>
            <li><a href="/about-us.html">About Us</a></li>
            <li><a href="/contact-us.html">Contact Us</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <ul>
            <li><a href="/privacy-policy.html">Privacy Policy</a></li>
            <li><a href="/terms-and-conditions.html">Terms</a></li>
            <li><a href="/Disclaimer.html">Disclaimer</a></li>
          </ul>
        </div>
      </div>
      <div class="copyright">
        <p>Â© 2025 Mass Tools. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <button class="scroll-to-top" aria-label="Scroll to top">
    <i class="fas fa-arrow-up"></i>
  </button>

  <script src="https://cdn.jsdelivr.net/npm/avif.js@0.4.0/dist/avif.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const menuToggle = document.getElementById('mobile-menu-toggle');
      const nav = document.getElementById('nav-menu');
      if (menuToggle && nav) {
        menuToggle.addEventListener('change', () => {
          nav.classList.toggle('show', menuToggle.checked);
        });
      }

      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', (e) => {
          e.preventDefault();
          const target = document.querySelector(anchor.getAttribute('href'));
          if (target) {
            target.scrollIntoView({ behavior: 'smooth' });
          }
          if (nav && nav.classList.contains('show')) {
            nav.classList.remove('show');
            menuToggle.checked = false;
          }
        });
      });

      document.querySelectorAll('a[href*="#"]').forEach(anchor => {
        anchor.addEventListener('click', (e) => {
          const href = anchor.getAttribute('href');
          const [path, hash] = href.split('#');
          const isHome = path === '/' || path === '' || path === '/index.html';
          if (isHome && hash && (window.location.pathname === '/' || window.location.pathname === '/index.html')) {
            e.preventDefault();
            const target = document.querySelector(`#${hash}`);
            if (target) {
              target.scrollIntoView({ behavior: 'smooth' });
              history.pushState(null, null, `/#${hash}`);
            }
          } else {
            window.location.href = href;
          }
          if (nav && nav.classList.contains('show')) {
            nav.classList.remove('show');
            menuToggle.checked = false;
          }
        });
      });

      const scrollTopBtn = document.querySelector('.scroll-to-top');
      if (scrollTopBtn) {
        window.addEventListener('scroll', () => {
          if (window.scrollY > 200) {
            scrollTopBtn.classList.add('show');
          } else {
            scrollTopBtn.classList.remove('show');
          }
        });
        scrollTopBtn.addEventListener('click', () => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
      }

      const searchInput = document.querySelector('.search-bar input');
      const searchButton = document.querySelector('.search-bar button');
      if (searchInput && searchButton) {
        const tools = [
          { name: 'EPS to Image Converter', url: '/tools/eps-to-image.html' },
          { name: 'PNG to JPEG Converter', url: '/tools/png-to-jpeg.html' },
          { name: 'Image Resizer', url: '/tools/image-resizer.html' },
          { name: 'WebP Converter', url: '/tools/webp-converter.html' },
          { name: 'Word Counter', url: '/tools/word-counter.html' },
          { name: 'Case Converter', url: '/tools/case-converter.html' },
          { name: 'Text to ASCII', url: '/tools/text-to-ascii.html' },
          { name: 'Lorem Ipsum Generator', url: '/tools/lorem-ipsum-generator.html' },
          { name: 'BMI Calculator', url: '/tools/bmi-calculator.html' },
          { name: 'Image to JPG Converter', url: '/tools/image-to-jpg.html' },
          { name: 'Image to PNG Converter', url: '/tools/image-to-png.html' },
          { name: 'Image to WebP Converter', url: '/tools/image-to-webp.html' },
          { name: 'Image to SVG Converter', url: '/tools/image-to-svg.html' },
          { name: 'Image to TIFF Converter', url: '/tools/image-to-tiff.html' },
          { name: 'Image to HEIC Converter', url: '/tools/image-to-heic.html' },
          { name: 'Image to PDF Converter', url: '/tools/image-to-pdf.html' },
          { name: 'Image to BMP Converter', url: '/tools/image-to-bmp.html' },
          { name: 'Image to ICO Converter', url: '/tools/image-to-ico.html' },
          { name: 'Image to AVIF Converter', url: '/tools/image-to-avif.html' }
        ];
        searchButton.addEventListener('click', () => {
          const query = searchInput.value.trim().toLowerCase();
          const matchedTool = tools.find(tool => tool.name.toLowerCase().includes(query));
          if (matchedTool) {
            window.location.href = matchedTool.url;
          } else {
            alert('No tools found matching your search.');
          }
        });
        searchInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            searchButton.click();
          }
        });
      }

      const uploadArea = document.getElementById('uploadArea');
      const imageInput = document.getElementById('imageInput');
      const qualitySelect = document.getElementById('quality');
      const originalPreview = document.getElementById('originalPreview');
      const convertedPreview = document.getElementById('convertedPreview');
      const convertBtn = document.getElementById('convertBtn');
      const downloadBtn = document.getElementById('downloadBtn');
      const resetBtn = document.getElementById('resetBtn');
      const loadingIndicator = document.getElementById('loadingIndicator');

      let originalImage = null;
      let avifBlob = null;

      const resetForm = () => {
        originalImage = null;
        avifBlob = null;
        imageInput.value = '';
        originalPreview.src = '';
        originalPreview.classList.remove('visible');
        convertedPreview.src = '';
        convertedPreview.classList.remove('visible');
        convertBtn.disabled = true;
        downloadBtn.disabled = true;
        qualitySelect.value = '80';
        loadingIndicator.classList.remove('visible');
      };

      const handleFile = (file) => {
        if (!file) {
          alert('No file selected. Please upload an image.');
          return;
        }
        if (!file.type.startsWith('image/')) {
          alert('Please upload a valid image file (JPG, PNG, GIF, etc.).');
          return;
        }
        originalImage = file;
        convertBtn.disabled = false;
        downloadBtn.disabled = true;

        const reader = new FileReader();
        reader.onload = (e) => {
          originalPreview.src = e.target.result;
          originalPreview.classList.add('visible');
          convertedPreview.src = '';
          convertedPreview.classList.remove('visible');
        };
        reader.readAsDataURL(file);
      };

      uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.classList.add('dragover');
      });

      uploadArea.addEventListener('dragleave', () => {
        uploadArea.classList.remove('dragover');
      });

      uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('dragover');
        const file = e.dataTransfer.files[0];
        handleFile(file);
      });

      uploadArea.addEventListener('click', () => {
        imageInput.click();
      });

      imageInput.addEventListener('change', () => {
        if (imageInput.files[0]) handleFile(imageInput.files[0]);
      });

      convertBtn.addEventListener('click', async () => {
        if (!originalImage) {
          alert('No image uploaded. Please upload an image first.');
          return;
        }

        if (!window.AVIFEncoder) {
          alert('AVIF conversion is not supported in this browser. Please use Chrome 85+, Firefox 93+, or Edge 93+.');
          return;
        }

        if (originalImage.size > 10 * 1024 * 1024) {
          alert('Image is too large (over 10MB). Please resize using our Image Resizer.');
          return;
        }

        loadingIndicator.classList.add('visible');
        convertBtn.disabled = true;

        const quality = parseInt(qualitySelect.value);
        const img = new Image();
        const reader = new FileReader();

        reader.onload = async (e) => {
          img.src = e.target.result;
          img.onload = async () => {
            try {
              const canvas = document.createElement('canvas');
              canvas.width = img.width;
              canvas.height = img.height;
              const ctx = canvas.getContext('2d');
              ctx.drawImage(img, 0, 0);

              const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
              const encoder = new AVIFEncoder({
                quality: quality,
                speed: 5,
                lossless: false
              });

              const chunkSize = 1024 * 1024;
              const pixels = imageData.data;
              for (let i = 0; i < pixels.length; i += chunkSize) {
                const chunk = pixels.slice(i, Math.min(i + chunkSize, pixels.length));
                await new Promise(resolve => setTimeout(resolve, 0));
              }

              const avifData = await encoder.encode(imageData);
              avifBlob = new Blob([avifData], { type: 'image/avif' });

              const previewUrl = URL.createObjectURL(avifBlob);
              convertedPreview.src = previewUrl;
              convertedPreview.classList.add('visible');
              URL.revokeObjectURL(previewUrl);

              downloadBtn.disabled = false;
              if (window.gtag) {
                gtag('event', 'convert_avif', {
                  event_category: 'Tool Usage',
                  event_label: 'Image to AVIF Conversion',
                  value: quality
                });
              }
            } catch (error) {
              console.error('AVIF conversion error:', error);
              alert('Error converting to AVIF. Please try again with a different image.');
            } finally {
              loadingIndicator.classList.remove('visible');
              convertBtn.disabled = false;
            }
          };
          img.onerror = () => {
            alert('Error loading image. Please try a different file.');
            loadingIndicator.classList.remove('visible');
            convertBtn.disabled = false;
          };
        };
        reader.readAsDataURL(originalImage);
      });

      downloadBtn.addEventListener('click', () => {
        if (!avifBlob) return;

        const originalName = originalImage.name.split('.')[0];
        const downloadName = `converted-${originalName}-masstools.github.io.avif`;
        const link = document.createElement('a');
        link.href = URL.createObjectURL(avifBlob);
        link.download = downloadName;
        link.click();
        URL.revokeObjectURL(link.href);

        if (window.gtag) {
          gtag('event', 'download_avif', {
            event_category: 'Tool Usage',
            event_label: 'AVIF Download',
            value: 1
          });
        }
      });

      resetBtn.addEventListener('click', resetForm);
    });
  </script>
</body>
</html>
