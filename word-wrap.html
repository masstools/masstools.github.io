<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Word Wrap Converter - Mass Tools</title>
  <meta name="description" content="Wrap your text based on specified character length per line and number of columns with Mass Tools' free Word Wrap Converter. Best with monospaced fonts like Courier or Monaco.">
  <meta name="keywords" content="word wrap, text wrapping, multi-column text, online tool, text formatting, coding tool">
  <meta name="robots" content="index, follow">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-68CX9G7BKF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-68CX9G7BKF');
  </script>
  <link rel="icon" type="image/png" href="/favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <header id="header"></header>

  <main>
    <section class="tool-section">
      <div class="container">
        <div class="tool-content">
          <h1>Word Wrap Converter</h1>
          <p>Use this tool to word-wrap a text-based on specified character length per line and amount of columns. Please note that the alignment is only visible when using fonts that have equal widths, like Courier and Monaco. For best results, use monospaced fonts.</p>

          <div class="input-area">
            <textarea id="inputText" rows="10" placeholder="Paste your text here..." aria-label="Input text for wrapping" style="width: 100%; min-height: 150px; font-size: 14px; padding: 12px; box-sizing: border-box;"></textarea>
          </div>

          <div class="settings">
            <label>
              Line Width
              <input type="number" id="lineWidth" value="80" min="1" max="200" aria-label="Line width for wrapping">
            </label>
            <label>
              Number of Columns
              <input type="number" id="numColumns" value="1" min="1" max="5" aria-label="Number of columns">
            </label>
            <label>
              Space Between Columns
              <input type="number" id="columnSpacing" value="2" min="0" max="10" aria-label="Spaces between columns">
            </label>
            <label class="checkbox-label">
              <input type="checkbox" id="breakWord" aria-label="Break long words">
              Break Long Words
            </label>
            <label class="checkbox-label">
              <input type="checkbox" id="trimText" aria-label="Trim whitespace">
              Trim Whitespace
            </label>
          </div>

          <div class="result-area">
            <textarea id="outputText" rows="10" readonly class="monospace" aria-label="Wrapped text output" style="width: 100%; min-height: 150px; font-size: 14px; padding: 12px; box-sizing: border-box;"></textarea>
            <p class="monospace-note">Output is displayed in a monospaced font (Courier/Monaco) for proper column alignment.</p>
          </div>

          <div class="action-buttons">
            <button id="convertBtn"><i class="fas fa-exchange-alt"></i> Convert</button>
            <button id="copyBtn" disabled><i class="fas fa-copy"></i> Copy Output</button>
            <button id="clearBtn"><i class="fas fa-trash"></i> Clear</button>
          </div>

          <a class="cta-button" href="/index.html#tools">Explore Our Tools</a>

          <div class="tool-article">
            <h2>About the Word Wrap Converter</h2>
            <p>Use this tool to word-wrap a text-based on specified character length per line and amount of columns. Please note that the alignment is only visible when using fonts that have equal widths, like Courier and Monaco. For best results, use monospaced fonts. Customize line width, number of columns, spacing, and options like breaking long words or trimming whitespace. All processing is done securely in your browser.</p>

            <h3>Why Use the Word Wrap Converter?</h3>
            <p>This tool is ideal for formatting text for coding, documentation, or multi-column layouts. Use it to:</p>
            <ul>
              <li><strong>Code Formatting</strong>: Wrap code or comments with consistent line lengths.</li>
              <li><strong>Multi-Column Layouts</strong>: Split text into columns for aligned output.</li>
              <li><strong>Text Alignment</strong>: Format text for reports or fixed-width files.</li>
              <li><strong>Data Processing</strong>: Prepare text for CSVs or tables with custom spacing.</li>
            </ul>

            <h3>How to Use the Word Wrap Converter</h3>
            <p>Follow these simple steps:</p>
            <ul>
              <li><strong>Paste Text</strong>: Enter text in the input textarea.</li>
              <li><strong>Set Line Width</strong>: Specify characters per line (1–200).</li>
              <li><strong>Choose Columns</strong>: Set number of columns (1–5).</li>
              <li><strong>Adjust Spacing</strong>: Set spaces between columns (0–10).</li>
              <li><strong>Enable Options</strong>: Check "Break Long Words" to split long words, or "Trim Whitespace" to remove leading/trailing spaces.</li>
              <li><strong>Convert</strong>: Click "Convert" to see wrapped text in the output textarea.</li>
              <li><strong>Copy Output</strong>: Click "Copy Output" to copy the result.</li>
              <li><strong>Clear</strong>: Click "Clear" to reset all fields.</li>
            </ul>
            <p>The tool processes text locally for privacy and works offline after loading.</p>

            <h3>Use Cases for Word Wrap Converter</h3>
            <p>This tool is perfect for:</p>
            <ul>
              <li><strong>Programming</strong>: Wrap comments or strings for readability.</li>
              <li><strong>Writing</strong>: Format text for emails, blogs, or documentation.</li>
              <li><strong>Data Formatting</strong>: Create multi-column text for CSVs or tables.</li>
              <li><strong>Text Editing</strong>: Standardize line lengths in markdown or editors.</li>
            </ul>

            <h3>Tips for Using the Word Wrap Converter</h3>
            <p>For best results:</p>
            <ul>
              <li><strong>Use Monospaced Fonts</strong>: Output aligns best with Courier or Monaco.</li>
              <li><strong>Test Small Inputs</strong>: Try a small text sample to verify wrapping.</li>
              <li><strong>Adjust Columns</strong>: Use 2–3 columns for readable multi-column output.</li>
              <li><strong>Combine Tools</strong>: Pair with our <a href="/case-converter.html">Case Converter</a>, <a href="/word-counter.html">Word Counter</a>, or other tools for advanced processing.</li>
              <li><strong>Contact Us</strong>: Need bulk processing? Email <a href="mailto:byrolaa@gmail.com">byrolaa@gmail.com</a>.</li>
            </ul>

            <h3>Why Choose Mass Tools?</h3>
            <p>At Mass Tools, we offer free, high-quality tools to simplify your tasks. Explore our suite, including <a href="/image-to-png-converter.html">Image to PNG Converter</a>, <a href="/word-counter.html">Word Counter</a>, and more. Learn more on our <a href="/about-us.html">About Us</a> page.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer id="footer"></footer>

  <button class="scroll-to-top" aria-label="Scroll to top">
    <i class="fas fa-arrow-up"></i>
  </button>

  <script>
    // Fetch header and footer, then load index.js
    Promise.all([
      fetch('/header.html')
        .then(response => {
          if (!response.ok) throw new Error('Header fetch failed');
          return response.text();
        })
        .then(data => {
          document.getElementById('header').innerHTML = data;
        }),
      fetch('/footer.html')
        .then(response => {
          if (!response.ok) throw new Error('Footer fetch failed');
          return response.text();
        })
        .then(data => {
          document.getElementById('footer').innerHTML = data;
        })
    ]).then(() => {
      console.log('Header and footer loaded');
      // Load index.js after header/footer
      const script = document.createElement('script');
      script.src = '/index.js';
      script.async = true;
      document.body.appendChild(script);
      console.log('index.js loading initiated');
    }).catch(err => {
      console.error('Error loading header/footer:', err);
    });

    // Word Wrap tool logic
    document.addEventListener('DOMContentLoaded', () => {
      console.log('Word Wrap tool initializing');
      const inputText = document.getElementById('inputText');
      const lineWidthInput = document.getElementById('lineWidth');
      const numColumnsInput = document.getElementById('numColumns');
      const columnSpacingInput = document.getElementById('columnSpacing');
      const breakWordCheckbox = document.getElementById('breakWord');
      const trimTextCheckbox = document.getElementById('trimText');
      const convertBtn = document.getElementById('convertBtn');
      const copyBtn = document.getElementById('copyBtn');
      const clearBtn = document.getElementById('clearBtn');
      const outputText = document.getElementById('outputText');

      if (!inputText || !outputText || !convertBtn) {
        console.error('Missing critical elements:', {
          inputText: !!inputText,
          outputText: !!outputText,
          convertBtn: !!convertBtn
        });
        return;
      }

      function wordWrap(text, lineWidth, numColumns, columnSpacing, breakWord, trimText) {
        console.log('wordWrap called:', { lineWidth, numColumns, columnSpacing, breakWord, trimText });
        if (!text) return '';

        // Trim text if enabled
        if (trimText) {
          text = text.trim();
          console.log('Text trimmed:', text);
        }

        // Split into words
        let words = text.split(/\s+/).filter(word => word.length > 0);
        if (!words.length) return '';

        // Break long words if enabled
        if (breakWord) {
          const newWords = [];
          for (const word of words) {
            if (word.length > lineWidth) {
              let i = 0;
              while (i < word.length) {
                newWords.push(word.slice(i, i + lineWidth));
                i += lineWidth;
              }
            } else {
              newWords.push(word);
            }
          }
          words = newWords;
          console.log('Words after breaking:', words);
        }

        // Split words into columns
        const wordsPerColumn = Math.ceil(words.length / numColumns);
        const columns = [];
        for (let i = 0; i < numColumns; i++) {
          columns.push(words.slice(i * wordsPerColumn, (i + 1) * wordsPerColumn));
        }
        console.log('Columns created:', columns);

        // Wrap each column
        const wrappedColumns = columns.map(columnWords => {
          let currentLine = '';
          const lines = [];
          let currentLength = 0;

          for (const word of columnWords) {
            const wordLength = word.length;
            if (currentLength + wordLength + (currentLength > 0 ? 1 : 0) <= lineWidth) {
              currentLine += (currentLength > 0 ? ' ' : '') + word;
              currentLength += wordLength + (currentLength > 0 ? 1 : 0);
            } else {
              if (currentLine) {
                lines.push(currentLine.padEnd(lineWidth, ' '));
              }
              currentLine = word;
              currentLength = wordLength;
            }
          }
          if (currentLine) {
            lines.push(currentLine.padEnd(lineWidth, ' '));
          }
          return lines;
        });
        console.log('Wrapped columns:', wrappedColumns);

        // Combine columns with spacing
        const maxLines = Math.max(...wrappedColumns.map(col => col.length));
        const outputLines = [];
        for (let i = 0; i < maxLines; i++) {
          const lineParts = wrappedColumns.map(col => col[i] || ''.padEnd(lineWidth, ' '));
          outputLines.push(lineParts.join(''.padEnd(columnSpacing, ' ')));
        }
        console.log('Output lines:', outputLines);

        return outputLines.join('\n').trimEnd();
      }

      convertBtn.addEventListener('click', () => {
        console.log('Convert button clicked');
        const text = inputText.value;
        const lineWidth = parseInt(lineWidthInput.value) || 80;
        const numColumns = parseInt(numColumnsInput.value) || 1;
        const columnSpacing = parseInt(columnSpacingInput.value) || 2;
        const breakWord = breakWordCheckbox.checked;
        const trimText = trimTextCheckbox.checked;

        if (!text) {
          alert('Please enter text to wrap.');
          console.warn('No input text provided');
          return;
        }
        if (lineWidth < 1 || lineWidth > 200) {
          alert('Line width must be between 1 and 200.');
          console.warn('Invalid line width:', lineWidth);
          return;
        }
        if (numColumns < 1 || numColumns > 5) {
          alert('Number of columns must be between 1 and 5.');
          console.warn('Invalid number of columns:', numColumns);
          return;
        }
        if (columnSpacing < 0 || columnSpacing > 10) {
          alert('Column spacing must be between 0 and 10.');
          console.warn('Invalid column spacing:', columnSpacing);
          return;
        }

        try {
          const wrapped = wordWrap(text, lineWidth, numColumns, columnSpacing, breakWord, trimText);
          outputText.value = wrapped;
          copyBtn.disabled = !wrapped;
          console.log('Text wrapped successfully:', wrapped);
          if (window.gtag) {
            gtag('event', 'convert', {
              event_category: 'Tool Usage',
              event_label: 'Word Wrap',
              value: text.length
            });
          }
        } catch (err) {
          console.error('wordWrap error:', err);
          alert('Error processing text. Check console for details.');
          outputText.value = '';
          copyBtn.disabled = true;
        }
      });

      copyBtn.addEventListener('click', () => {
        console.log('Copy button clicked');
        if (!outputText.value) {
          alert('Nothing to copy. Please convert text first.');
          console.warn('No output text to copy');
          return;
        }
        outputText.select();
        try {
          document.execCommand('copy');
          alert('Text copied to clipboard!');
          console.log('Output text copied');
          if (window.gtag) {
            gtag('event', 'copy_output', {
              event_category: 'Tool Usage',
              event_label: 'Word Wrap Copy',
              value: 1
            });
          }
        } catch (err) {
          console.error('Copy failed:', err);
          alert('Failed to copy text.');
        }
      });

      clearBtn.addEventListener('click', () => {
        console.log('Clear button clicked');
        inputText.value = '';
        lineWidthInput.value = 80;
        numColumnsInput.value = 1;
        columnSpacingInput.value = 2;
        breakWordCheckbox.checked = false;
        trimTextCheckbox.checked = false;
        outputText.value = '';
        copyBtn.disabled = true;
        console.log('Input and output cleared');
      });
    });
  </script>
</body>
</html>
